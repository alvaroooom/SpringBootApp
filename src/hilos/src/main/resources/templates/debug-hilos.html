<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Hilos en Spring Boot</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 25px;
        }
        .caja {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 6px;
        }
        .titulo {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 8px;
        }
        .dato {
            font-family: monospace;
            color: #2a4;
            font-size: 16px;
        }
    </style>
</head>

<body>

<h1>Análisis básico de hilos en Spring Boot</h1>
<p>Esta pantalla muestra qué hilos han intervenido en la petición y los hilos creados por el controlador.</p>

<!-- ===========================
     HILO QUE ATIENDE LA PETICIÓN
     =========================== -->
<div class="caja">
    <div class="titulo">Hilo de la petición (Tomcat)</div>
    <p>Este es el hilo que está ejecutando el controlador ahora mismo:</p>
    <p class="dato" th:text="${requestThread}">http-nio-8080-exec-X</p>
    <p>Forma parte del pool de ejecución de Tomcat y ejecuta la lógica del endpoint <code>/hilos</code>.</p>
</div>


<!-- ===========================
     HILO: ANALIZADOR DE LOGS
     =========================== -->
<div class="caja">
    <div class="titulo">Hilo Analizador de Logs</div>
    <p>Nombre:</p>
    <p class="dato" th:text="${analizadorName}">Analizador-logs</p>

    <p>Prioridad:</p>
    <p class="dato" th:text="${analizadorPriority}">5</p>

    <p>Este hilo simula un proceso que analiza logs durante varios segundos.</p>
</div>


<!-- ===========================
     HILO: GENERADOR INFORMES
     =========================== -->
<div class="caja">
    <div class="titulo">Hilo Generador de Informes</div>
    <p>Nombre:</p>
    <p class="dato" th:text="${generadorName}">Generador-informes</p>

    <p>Prioridad:</p>
    <p class="dato" th:text="${generadorPriority}">1</p>

    <p>Este hilo simula una tarea más ligera que genera informes.</p>
</div>


<!-- ===========================
     INSTRUCCIONES DE DEBUGGER
     =========================== -->
<div class="caja">
    <div class="titulo">Instrucciones para depurar con Debugger</div>
    <ol>
        <li>Arranca la aplicación usando <strong>Debug As → Spring Boot App</strong>.</li>
        <li>Coloca un breakpoint dentro del controlador:  
            <code>String requestThread = Thread.currentThread().getName();</code>
        </li>
        <li>Abre en navegador:  
            <code>http://localhost:8080/hilos</code>
        </li>
        <li>En la vista Debug, observa:
            <ul>
                <li>El hilo que ejecuta el controlador (http-nio-8080-exec-X)</li>
                <li>Los hilos creados por ti: “Analizador-logs” y “Generador-informes”</li>
                <li>En qué estado están (RUNNABLE, TIMED_WAITING…)</li>
            </ul>
        </li>
    </ol>
</div>

</body>
</html>
